# Description: Vim fork focused on extensibility and agility.
# URL:         https://neovim.io
# Maintainer:  6c37 Team, https://github.com/6c37/crux-ports/issues
# Depends on:  cmake libuv msgpack-c lua-lpeg libmpack libvterm libtermkey

name=neovim
version=0.1.6
release=2
source=(https://github.com/neovim/neovim/archive/v$version.tar.gz
	CVE-2016-1248.patch
	)

build() {
	cd $name-$version

	patch -sl -Np0 -i $SRC/CVE-2016-1248.patch

	mkdir build; cd build

	cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr

	make DESTDIR=$PKG install

	rm -rf $PKG/usr/share/locale
}
